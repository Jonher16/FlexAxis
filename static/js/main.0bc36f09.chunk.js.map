{"version":3,"sources":["img/nuuk.svg","components/HeaderNav.js","App.js","reportWebVitals.js","index.js"],"names":["HeaderNav","className","Navbar","bg","width","variant","Brand","href","src","nuuk","height","alt","ffmpegIP","ENDPOINT","socket","io","App","handleButton","e","command","preventDefault","emit","console","log","useEffect","tempcamera","on","msg","status","setFlagCredentials","checkStreamStatus","useState","ip","username","password","flagCredentials","videoUrl","player","JSMpeg","VideoElement","autoplay","flagW","flagA","flagS","flagD","flagQ","flagE","flagSL","flagSpace","document","addEventListener","code","Container","fluid","Row","Col","xs","sm","id","style","Button","onClick","lg","md","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0bc36f09.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/nuuk.53610b05.svg\";","import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport \"../App.scss\"\r\nimport nuuk from \"../img/nuuk.svg\"\r\n\r\nconst HeaderNav = () => {\r\n  return (\r\n    <div className=\"header_nav\">\r\n      <Navbar bg=\"mediumgray\" width=\"100%\" variant=\"dark\">\r\n      <Navbar.Brand><a href=\"/panel\"><img src={nuuk} height=\"auto\" width=\"150vw\"alt=\"Nuuk logo\"></img></a></Navbar.Brand>\r\n      <Navbar.Brand><h2 className=\"title\">FlexAxis</h2></Navbar.Brand>\r\n         \r\n        \r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderNav;\r\n","import \"./App.scss\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport io from \"socket.io-client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport HeaderNav from \"./components/HeaderNav\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport JSMpeg from \"@cycjimmy/jsmpeg-player\";\r\n\r\nconst ffmpegIP = \"flexcontrol-dev.nuuk.ai\";\r\nconst ENDPOINT = `https://${ffmpegIP}:4001`;\r\nconst socket = io(ENDPOINT);\r\n\r\nfunction App() {\r\n  const handleButton = (e, command) => {\r\n    e.preventDefault();\r\n    socket.emit(\"command\", command);\r\n    console.log(`Command ${command} emitted`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.emit(\"camera\", tempcamera);\r\n    socket.on(\"welcome\", (msg) => console.log(\"From server => \",msg));\r\n    socket.on(\"streamstatus\", (status) => checkStreamStatus(status));\r\n  }, []);\r\n\r\n  function checkStreamStatus(status){\r\n    console.log(status)\r\n    if(status === true) {\r\n      setFlagCredentials(false)\r\n    }\r\n    else if(status === false) {\r\n      setFlagCredentials(true)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setCamera(tempcamera);\r\n    socket.emit(\"camera\", tempcamera);\r\n    setTempCamera({\r\n      ip: \"\",\r\n      username: \"\",\r\n      password: \"\",\r\n    });\r\n    alert(\"Axis camera credentials changed successfuly\");\r\n    setFlagCredentials(false);\r\n  };\r\n\r\n  const [camera, setCamera] = useState({ ip: \"212.170.116.46\", username: \"root\", password: \"pass\" });\r\n  const [tempcamera, setTempCamera] = useState({\r\n    ip: \"212.170.116.46\",\r\n    username: \"root\",\r\n    password: \"pass\",\r\n  });\r\n\r\n  const [flagCredentials, setFlagCredentials] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (flagCredentials === false) {\r\n      var videoUrl = `wss://${ffmpegIP}:6789/stream`;\r\n      var player = new JSMpeg.VideoElement(\"#video-canvas\", videoUrl, {\r\n        autoplay: true,\r\n      });\r\n      console.log(player);\r\n    }\r\n  }, [flagCredentials]);\r\n\r\n  //KEYBOARD LISTENERS\r\n\r\n  var flagW = false;\r\n  var flagA = false;\r\n  var flagS = false;\r\n  var flagD = false;\r\n  var flagQ = false;\r\n  var flagE = false;\r\n  var flagSL = false;\r\n  var flagSpace = false;\r\n\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      if (e.code === \"KeyW\" && flagW === false) {\r\n        console.log(\"W\");\r\n        socket.emit(\"command\", \"upspeed\");\r\n        flagW = true;\r\n      } else if (e.code === \"KeyS\" && flagS === false) {\r\n        console.log(\"S\");\r\n        socket.emit(\"command\", \"downspeed\");\r\n        flagS = true;\r\n      } else if (e.code === \"KeyA\" && flagA === false) {\r\n        console.log(\"A\");\r\n        flagA = true;\r\n        socket.emit(\"command\", \"leftspeed\");\r\n      } else if (e.code === \"KeyD\" && flagD === false) {\r\n        console.log(\"D\");\r\n        flagD = true;\r\n        socket.emit(\"command\", \"rightspeed\");\r\n      } else if (e.code === \"KeyQ\" && flagQ === false) {\r\n        console.log(\"Q\");\r\n        flagQ = true;\r\n        socket.emit(\"command\", \"zoominspeed\");\r\n      } else if (e.code === \"KeyE\" && flagE === false) {\r\n        console.log(\"E\");\r\n        flagE = true;\r\n        socket.emit(\"command\", \"zoomoutspeed\");\r\n      } else if (e.code === \"Space\" && flagSpace === false) {\r\n        console.log(\"Space\");\r\n        flagE = true;\r\n      } else if (e.code === \"ShiftLeft\" && flagSL === false) {\r\n        console.log(\"ShiftLeft\");\r\n        flagE = true;\r\n      }\r\n    });\r\n\r\n    document.addEventListener(\"keyup\", (e) => {\r\n      if (e.code === \"KeyW\") {\r\n        // console.log(\"No W\");\r\n        flagW = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyS\") {\r\n        // console.log(\"No S\");\r\n        flagS = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyA\") {\r\n        // console.log(\"No A\");\r\n        flagA = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyD\") {\r\n        console.log(\"No D\");\r\n        flagD = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyQ\") {\r\n        //console.log(\"No Q\");\r\n        flagQ = false;\r\n        socket.emit(\"command\", \"stopzoomspeed\");\r\n      } else if (e.code === \"KeyE\") {\r\n        // console.log(\"No E\");\r\n        flagE = false;\r\n        socket.emit(\"command\", \"stopzoomspeed\");\r\n      } else if (e.code === \"Space\") {\r\n        console.log(\"No Space\");\r\n        flagSpace = false;\r\n      } else if (e.code === \"ShiftLeft\") {\r\n        // console.log(\"No ShiftLeft\");\r\n        flagSL = false;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  function editCredentials(){\r\n    setFlagCredentials(true)\r\n    socket.emit(\"deletestream\");\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"App\">\r\n        <HeaderNav />\r\n        {/* {flagCredentials ? (\r\n          <Form className=\"pt-5 pl-5 pr-5\">\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicIP\">\r\n              <Form.Label>Camera IP address</Form.Label>\r\n              <Form.Control\r\n                type=\"ip\"\r\n                placeholder=\"IP address\"\r\n                value={tempcamera.ip}\r\n                onChange={(e) =>\r\n                  setTempCamera({ ...tempcamera, ip: e.target.value })\r\n                }\r\n              />\r\n              <Form.Text className=\"text-muted\">\r\n                Private or Public. If public, make sure port 443 is port\r\n                forwarded.\r\n              </Form.Text>\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicUser\">\r\n              <Form.Label>Username</Form.Label>\r\n              <Form.Control\r\n                type=\"user\"\r\n                placeholder=\"Username\"\r\n                value={tempcamera.username}\r\n                onChange={(e) =>\r\n                  setTempCamera({ ...tempcamera, username: e.target.value })\r\n                }\r\n              />\r\n            </Form.Group>\r\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n              <Form.Label>Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                value={tempcamera.password}\r\n                onChange={(e) =>\r\n                  setTempCamera({ ...tempcamera, password: e.target.value })\r\n                }\r\n              />\r\n            </Form.Group>\r\n\r\n            <Button className=\"mt-2\" onClick={(e) => handleSubmit(e)}>\r\n              Apply Changes\r\n            </Button>\r\n          </Form>\r\n        ) : ( */}\r\n          <>\r\n            <Container className=\"d-flex flex-row w-100 h-100\" fluid>\r\n            <Row className=\"w-100\" >\r\n              {/* Video Column */}\r\n              <Col xs={12} sm={6} className=\"d-flex justify-content-center w-100 mt-5\">\r\n                  <div\r\n                    id=\"video-canvas\"\r\n                    style={{height: \"300px\", width:\"500px\"}}\r\n                  ></div>\r\n                </Col>\r\n                {/* Video Column Close */}\r\n              \r\n                {/* Controls Column*/}\r\n                <Col xs={12} sm={6} className=\"d-flex justify-content-center w-100\">\r\n                  {/* Edit Credentials Div */}\r\n                  <div className=\"w-100 h-100 mt-2\">\r\n                    {/* <div\r\n                      className=\"d-flex justify-content-center mb-3\"\r\n                      xs=\"12\"\r\n                      lg=\"6\"\r\n                      md=\"6\"\r\n                    >\r\n                      <Button onClick={() => editCredentials()}>\r\n                        Edit Credentials\r\n                      </Button>\r\n                    </div> */}\r\n\r\n                    {/* Zoomin div*/}\r\n\r\n                    <div className=\"d-flex mt-1 justify-content-center w-100\">\r\n                      <Button\r\n                        variant=\"primary\"\r\n                        style={{ width: \"120px\" }}\r\n                        onClick={(e) => handleButton(e, \"zoomin\")}\r\n                      >\r\n                        Zoom in\r\n                      </Button>\r\n                    </div>\r\n\r\n                    {/* Joysticks div*/}\r\n\r\n                    <div className=\"d-flex flex-column mt-3 justify-content-center\">\r\n                      {/* Tilt Up div */}\r\n                      <div className=\"d-flex justify-content-around w-100\">\r\n                        <Button\r\n                          style={{ width: \"120px\", height: \"auto\" }}\r\n                          onClick={(e) => handleButton(e, \"up\")}\r\n                        >\r\n                          Tilt Up\r\n                        </Button>\r\n                      </div>\r\n                      {/* Pan Left/Right Container */}\r\n                      <Container className=\"w-100\">\r\n                        <Row\r\n                          xs=\"12\"\r\n                          lg=\"6\"\r\n                          md=\"6\"\r\n                          className=\"d-flex mt-2 justify-content-center\"\r\n                        >\r\n                          <Col\r\n                            className=\"d-flex justify-content-center\"\r\n                            style={{ width: \"120px\" }}\r\n                          >\r\n                            <Button\r\n                              style={{ width: \"120px\" }}\r\n                              onClick={(e) => handleButton(e, \"left\")}\r\n                            >\r\n                              Pan Left\r\n                            </Button>\r\n                          </Col>\r\n                          <Col\r\n                            className=\"d-flex justify-content-center\"\r\n                            style={{ width: \"120px\" }}\r\n                          >\r\n                            <Button\r\n                              style={{ width: \"120px\" }}\r\n                              onClick={(e) => handleButton(e, \"right\")}\r\n                            >\r\n                              Pan Right\r\n                            </Button>\r\n                          </Col>\r\n                        </Row>\r\n                      </Container>\r\n                      {/* Tilt down div */}\r\n                      <div className=\"d-flex justify-content-around mt-2\">\r\n                        <Button\r\n                          style={{ width: \"120px\" }}\r\n                          onClick={(e) => handleButton(e, \"down\")}\r\n                        >\r\n                          Tilt Down\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                    {/* Zoom out div */}\r\n                    <div className=\"d-flex justify-content-around mt-2 w-100\">\r\n                      <Button\r\n                        style={{ width: \"120px\" }}\r\n                        onClick={(e) => handleButton(e, \"zoomout\")}\r\n                      >\r\n                        Zoom Out\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </Col>\r\n                {/* Controls Column Close */}\r\n                \r\n              </Row>\r\n            </Container>\r\n          </>\r\n        {/* )} */}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}