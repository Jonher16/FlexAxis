(this.webpackJsonpFlexAxis=this.webpackJsonpFlexAxis||[]).push([[0],{40:function(e,t,n){},56:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),s=n(20),i=n.n(s),a=(n(56),n(12)),d=(n(40),n(51)),m=n(33),r=n(34),l=n.p+"static/media/nuuk.53610b05.svg",u=n(1),p=function(){return Object(u.jsx)("div",{className:"header_nav",children:Object(u.jsxs)(r.a,{bg:"mediumgray",width:"100%",variant:"dark",children:[Object(u.jsx)(r.a.Brand,{children:Object(u.jsx)("a",{href:"/panel",children:Object(u.jsx)("img",{src:l,height:"auto",width:"150vw",alt:"Nuuk logo"})})}),Object(u.jsx)(r.a.Brand,{children:Object(u.jsx)("h2",{className:"title",children:"FlexAxis"})})]})})},j=n(49),h=n.n(j);n(50);var f=n(37),v=n.n(f),g=n(6),b=n(7),O=n(10),x=n(9),y=function(e){Object(O.a)(n,e);var t=Object(x.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e,t,n=this.props.endpoint,o=Object(m.a)(n),c=!1,s=v()("#video-canvas");function i(n){var i,a;s.css("cursor","grab");var d="";i=n.originalEvent.touches?n.orginalEvent.touches[0].clientX:n.originalEvent.clientX,(a=n.originalEvent.touches?n.originalEvent.touches[0].clientY:n.originalEvent.clientY)>t?(!1===c||!0===c&&"down"!==d)&&(o.emit("command","downspeed"),c=!0,d="down"):a<t&&(!1===c||!0===c&&"up"!==d)&&(o.emit("command","upspeed"),c=!0,d="up"),t=a,i>e?(!1===c||!0===c&&"right"!==d)&&(o.emit("command","rightspeed"),c=!0,d="right"):i<e&&(!1===c||!0===c&&"left"!==d)&&(o.emit("command","leftspeed"),c=!0,d="left"),e=i}console.log("ready"),s.css("cursor","move"),s.on("wheel",(function(e){return-1==e.originalEvent.deltaY/Math.abs(e.originalEvent.deltaY)?o.emit("command","zoomin"):o.emit("command","zoomout"),!1})),s.on("touchstart mousedown",(function(e){s.on("touchmove mousemove",i)})),s.on("touchend mouseup",(function(e){s.off("touchend mousemove",i),s.css("cursor","move"),o.emit("command","stopspeed"),c=!1}))}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"w-100 d-inline-flex justify-content-center",children:Object(u.jsx)("div",{className:"m-3  w-75",id:"video-canvas",style:{height:"500px",width:"1000px"}})})}}]),n}(o.Component),w=(n(38),n(68),n(69),n(2),n(72),"idelt.nuuk.ai"),E="https://".concat(w,":4001"),k=Object(m.a)(E);console.log("APP IP",w);var K=function(){Object(o.useEffect)((function(){console.log("entre"),k.on("welcome",(function(e){return console.log("From server => ",e)})),k.on("streamstatus",(function(e){return function(e){console.log(e),!0===e?i(!1):!1===e&&i(!0)}(e)}))}),[]);var e=Object(o.useState)({ip:"",username:"",password:""}),t=Object(a.a)(e,2),n=(t[0],t[1],Object(o.useState)(!0)),c=Object(a.a)(n,2),s=c[0],i=c[1];Object(o.useEffect)((function(){if(!1===s){var e="wss://".concat(w,":6789/stream"),t=new h.a.VideoElement("#video-canvas",e,{autoplay:!0});console.log(t)}}),[s]);var m=!1,r=!1,l=!1,j=!1,f=!1,v=!1;return Object(o.useEffect)((function(){document.addEventListener("keydown",(function(e){"KeyW"===e.code&&!1===m?(console.log("W"),k.emit("command","upspeed"),m=!0):"KeyS"===e.code&&!1===l?(console.log("S"),k.emit("command","downspeed"),l=!0):"KeyA"===e.code&&!1===r?(console.log("A"),r=!0,k.emit("command","leftspeed")):"KeyD"===e.code&&!1===j?(console.log("D"),j=!0,k.emit("command","rightspeed")):"KeyQ"===e.code&&!1===f?(console.log("Q"),f=!0,k.emit("command","zoomoutspeed")):"KeyE"===e.code&&!1===v&&(console.log("E"),v=!0,k.emit("command","zoominspeed"))})),document.addEventListener("keyup",(function(e){"KeyW"===e.code?(m=!1,k.emit("command","stopspeed")):"KeyS"===e.code?(l=!1,k.emit("command","stopspeed")):"KeyA"===e.code?(r=!1,k.emit("command","stopspeed")):"KeyD"===e.code?(j=!1,k.emit("command","stopspeed")):"KeyQ"===e.code?(f=!1,k.emit("command","stopzoomspeed")):"KeyE"===e.code&&(v=!1,k.emit("command","stopzoomspeed"))}))}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(p,{}),s?Object(u.jsx)(u.Fragment,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(y,{endpoint:E,socket:k}),Object(u.jsx)("div",{className:"d-flex justify-content-around mt-2 w-100",children:Object(u.jsx)(d.a,{style:{width:"155px"},onClick:function(e){return function(e){e.preventDefault(),k.emit("restartstream"),console.log("Restart stream emitted")}(e)},children:"Restart streaming"})})]})]})})},F=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),o(e),c(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(K,{})}),document.getElementById("root")),F()}},[[70,1,2]]]);
//# sourceMappingURL=main.0e62bd0b.chunk.js.map