{"version":3,"sources":["img/nuuk.svg","components/HeaderNav.js","components/GobeJoystickController.js","components/DraggableVideo.js","components/ControlButtons.js","App.js","reportWebVitals.js","index.js"],"names":["HeaderNav","className","Navbar","bg","width","variant","Brand","href","src","nuuk","height","alt","GobeJoystickController","DraggableVideo","id","style","Component","ControlButtons","onClick","Col","xs","sm","Button","e","Container","Row","lg","md","APP_IP","process","ENDPOINT","socket","io","console","log","App","useEffect","on","msg","status","setFlagCredentials","checkStreamStatus","useState","ip","username","password","flagCredentials","videoUrl","player","JSMpeg","VideoElement","autoplay","flagW","flagA","flagS","flagD","flagQ","flagE","document","addEventListener","code","emit","endpoint","preventDefault","restartStream","command","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.122304ba.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/nuuk.53610b05.svg\";","import React from \"react\";\r\nimport Navbar from \"react-bootstrap/Navbar\";\r\nimport \"../App.scss\"\r\nimport nuuk from \"../img/nuuk.svg\"\r\n\r\nconst HeaderNav = () => {\r\n  return (\r\n    <div className=\"header_nav\">\r\n      <Navbar bg=\"mediumgray\" width=\"100%\" variant=\"dark\">\r\n      <Navbar.Brand><a href=\"/panel\"><img src={nuuk} height=\"auto\" width=\"150vw\"alt=\"Nuuk logo\"></img></a></Navbar.Brand>\r\n      <Navbar.Brand><h2 className=\"title\">FlexAxis</h2></Navbar.Brand>\r\n         \r\n        \r\n      </Navbar>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HeaderNav;\r\n","import { Joystick } from \"react-joystick-component\";\r\nimport { useEffect, useState, useMemo, useRef } from \"react\";\r\n\r\nconst joystickSize = {\r\nheight: 100,\r\nwidth: 100,\r\n}\r\n\r\nfunction GobeJoystickController({\r\n    move,\r\n    start,\r\n    stop,\r\n    opactiy = 1.0,\r\n    className\r\n  }) {\r\n    const [containerDiv, setContainerDiv] = useState();\r\n    // the container will always fill it's parent\r\n    const containerStyle = useRef({\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyItems: \"center\",\r\n      justifyContent: \"center\"\r\n    }).current;\r\n    const baseColor = useMemo(\r\n      () =>\r\n        `radial-gradient(circle at 50% 50%, rgba(100,100,100,${opactiy}), rgba(100,100,100,${opactiy}), rgba(100,100,100,${opactiy}),  rgba(5,5,5,${opactiy}))`,\r\n      [opactiy]\r\n    );\r\n    const stickColor = useMemo(\r\n      () =>\r\n        `radial-gradient(circle at 50% 50%, rgba(70,70,70,${opactiy}), rgba(70,70,70,${opactiy}), rgba(5,5,5,${opactiy}))`,\r\n      [opactiy]\r\n    );\r\n    return (\r\n      <div ref={setContainerDiv} style={containerStyle} className={className}>\r\n        {containerDiv ? (\r\n          <div className=\"d-flex flex-row justify-content-center w-100 h-100 border\">\r\n          <div className=\"d-flex flex-row justify-contents-center align-items-center m-3 border\">\r\n          <Joystick\r\n            // we are assuming that the container dimensions will never change in the lifetime of this component\r\n            size={(joystickSize.width, joystickSize.height)}\r\n            baseColor={baseColor}\r\n            stickColor={stickColor}\r\n            throttle={200}\r\n            move={move}\r\n            stop={stop}\r\n            start={start}\r\n          />\r\n          </div></div>\r\n        ) : null}\r\n      </div>\r\n    );\r\n  }\r\n\r\nexport default GobeJoystickController;","import React, { Component, component } from \"react\";\r\nimport $ from \"jquery\";\r\nimport io from \"socket.io-client\";\r\n\r\nexport default class DraggableVideo extends Component {\r\n  \r\n  // componentDidMount() {\r\n  //   var ENDPOINT = this.props.endpoint\r\n  //   const socket = io(ENDPOINT);\r\n  //   var flag_move = false;\r\n  //   var lastX, lastY;\r\n  //   var $box = $(\"#video-canvas\");\r\n  //   console.log(\"ready\");\r\n  //   $box.css('cursor','move');\r\n\r\n\r\n  //   $box.on('wheel', function(e) { \r\n  //     var delta = e.originalEvent.deltaY/Math.abs(e.originalEvent.deltaY);\r\n  //     //console.log(delta)\r\n  //     if (delta == -1){\r\n  //       //console.log(\"up\")\r\n  //       socket.emit(\"command\",\"zoomin\")\r\n  //     } // going up\r\n  //     else {\r\n  //       socket.emit(\"command\",\"zoomout\")\r\n  //     }\r\n  //     return false;\r\n  //   });\r\n\r\n\r\n  //   $box.on(\"touchstart mousedown\", function (e) {\r\n  //     $box.on(\"touchmove mousemove\", touchmove);\r\n      \r\n  //   });\r\n\r\n  //   $box.on(\"touchend mouseup\", function (e) {\r\n  //     $box.off(\"touchend mousemove\", touchmove);\r\n  //     $box.css('cursor','move');\r\n  //     //console.log(\"ready\");\r\n  //     socket.emit(\"command\", \"stopspeed\");\r\n  //     flag_move = false;\r\n  //   });\r\n\r\n  //   function touchmove(e) {\r\n  //     $box.css('cursor','grab');\r\n  //     var currentX, currentY;\r\n  //     var buffer = 1000;\r\n  //   var lastDirection = \"\";\r\n  //     currentX = e.originalEvent.touches\r\n  //       ? e.orginalEvent.touches[0].clientX\r\n  //       : e.originalEvent.clientX;\r\n  //     currentY = e.originalEvent.touches\r\n  //       ? e.originalEvent.touches[0].clientY\r\n  //       : e.originalEvent.clientY;\r\n\r\n  //     if (currentY > lastY) {\r\n  //       if (flag_move === false || (flag_move === true && lastDirection !== \"down\")) {\r\n  //         //console.log(\"down\");\r\n  //         socket.emit(\"command\", \"downspeed\");\r\n  //         flag_move = true;\r\n  //         lastDirection = \"down\"\r\n  //       }\r\n  //     } else if (currentY < lastY) {\r\n  //       if (flag_move === false || (flag_move === true && lastDirection !== \"up\")) {\r\n  //         //console.log(\"up\");\r\n  //         socket.emit(\"command\", \"upspeed\");\r\n  //         flag_move = true;\r\n  //         lastDirection=\"up\"\r\n  //       }\r\n  //     }\r\n  //     lastY = currentY;\r\n\r\n  //     if (currentX > lastX) {\r\n  //       if (flag_move === false || (flag_move === true && lastDirection !== \"right\")) {\r\n  //         //console.log(\"right\");\r\n  //         socket.emit(\"command\", \"rightspeed\");\r\n  //         flag_move = true;\r\n  //         lastDirection = \"right\"\r\n  //       }\r\n  //     } else if (currentX < lastX) {\r\n  //       if (flag_move === false || (flag_move === true && lastDirection !== \"left\")) {\r\n  //         //console.log(\"left\");\r\n  //         socket.emit(\"command\", \"leftspeed\");\r\n  //         flag_move = true;\r\n  //         lastDirection=\"left\"\r\n  //       }\r\n  //     }\r\n  //     lastX = currentX;\r\n\r\n  //   }\r\n  // }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"w-100 d-inline-flex justify-content-center\">\r\n      <div\r\n        className=\"m-3  w-50\"\r\n        id=\"video-canvas\"\r\n        style={{ height: \"300px\", width: \"500px\" }}\r\n      ></div></div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Col, Container, Row, Button } from \"react-bootstrap\";\r\n\r\nconst ControlButtons = ({ onClick }) => {\r\n  return (\r\n    <>\r\n      {/* Controls Column*/}\r\n      <Col xs={12} sm={6} className=\"d-flex justify-content-center w-100\">\r\n        {/* Edit Credentials Div */}\r\n        <div className=\"w-100 h-100 mt-2\">\r\n          <div className=\"d-flex mt-1 justify-content-center w-100\">\r\n            <Button\r\n              variant=\"primary\"\r\n              style={{ width: \"120px\" }}\r\n              onClick={(e) => onClick(e, \"zoomin\")}\r\n            >\r\n              Zoom in\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Joysticks div*/}\r\n\r\n          <div className=\"d-flex flex-column mt-3 justify-content-center\">\r\n            {/* Tilt Up div */}\r\n            <div className=\"d-flex justify-content-around w-100\">\r\n              <Button\r\n                style={{ width: \"120px\", height: \"auto\" }}\r\n                onClick={(e) => onClick(e, \"up\")}\r\n              >\r\n                Tilt Up\r\n              </Button>\r\n            </div>\r\n            {/* Pan Left/Right Container */}\r\n            <Container className=\"w-100\">\r\n              <Row\r\n                xs=\"12\"\r\n                lg=\"6\"\r\n                md=\"6\"\r\n                className=\"d-flex mt-2 justify-content-center\"\r\n              >\r\n                <Col\r\n                  className=\"d-flex justify-content-center\"\r\n                  style={{ width: \"120px\" }}\r\n                >\r\n                  <Button\r\n                    style={{ width: \"120px\" }}\r\n                    onClick={(e) => onClick(e, \"left\")}\r\n                  >\r\n                    Pan Left\r\n                  </Button>\r\n                </Col>\r\n                <Col\r\n                  className=\"d-flex justify-content-center\"\r\n                  style={{ width: \"120px\" }}\r\n                >\r\n                  <Button\r\n                    style={{ width: \"120px\" }}\r\n                    onClick={(e) => onClick(e, \"right\")}\r\n                  >\r\n                    Pan Right\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Container>\r\n            {/* Tilt down div */}\r\n            <div className=\"d-flex justify-content-around mt-2\">\r\n              <Button\r\n                style={{ width: \"120px\" }}\r\n                onClick={(e) => onClick(e, \"down\")}\r\n              >\r\n                Tilt Down\r\n              </Button>\r\n            </div>\r\n          </div>\r\n          {/* Zoom out div */}\r\n          <div className=\"d-flex justify-content-around mt-2 w-100\">\r\n            <Button\r\n              style={{ width: \"120px\" }}\r\n              onClick={(e) => onClick(e, \"zoomout\")}\r\n            >\r\n              Zoom Out\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </Col>\r\n      {/* Controls Column Close */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ControlButtons;\r\n","import \"./App.scss\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport io from \"socket.io-client\";\r\nimport { useEffect, useState, useMemo, useRef } from \"react\";\r\nimport HeaderNav from \"./components/HeaderNav\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport JSMpeg from \"@cycjimmy/jsmpeg-player\";\r\nimport GobeJoystickController from \"./components/GobeJoystickController\";\r\nimport $ from \"jquery\";\r\nimport DraggableVideo from \"./components/DraggableVideo\";\r\nimport ControlButtons from \"./components/ControlButtons\";\r\nimport Credentials from \"./components/Credentials\"\r\n\r\nconst APP_IP = process.env.REACT_APP_APP_IP;\r\nconst ENDPOINT = `https://${APP_IP}:4001`;\r\nconst socket = io(ENDPOINT);\r\nconsole.log(\"APP IP\",APP_IP)\r\nfunction App() {\r\n\r\n  const handleButton = (e, command) => {\r\n    e.preventDefault();\r\n    socket.emit(\"command\", command);\r\n    console.log(`Command ${command} emitted`);\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(\"entre\")\r\n    socket.on(\"welcome\", (msg) => console.log(\"From server => \", msg));\r\n    socket.on(\"streamstatus\", (status) => checkStreamStatus(status));\r\n  }, []);\r\n\r\n  function checkStreamStatus(status) {\r\n    console.log(status);\r\n    if (status === true) {\r\n      setFlagCredentials(false);\r\n    } else if (status === false) {\r\n      setFlagCredentials(true);\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e, tempcamera) => {\r\n    e.preventDefault();\r\n    setCamera(tempcamera);\r\n    socket.emit(\"camera\", tempcamera);\r\n    alert(\"Axis camera credentials changed successfuly\");\r\n    setFlagCredentials(false);\r\n  };\r\n\r\n  const [camera, setCamera] = useState({\r\n    ip: \"\",\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const [flagCredentials, setFlagCredentials] = useState(true);\r\n\r\n  useEffect(() => {\r\n    if (flagCredentials === false) {\r\n      var videoUrl = `wss://${APP_IP}:6789/stream`;\r\n      var player = new JSMpeg.VideoElement(\"#video-canvas\", videoUrl, {\r\n        autoplay: true,\r\n      });\r\n      console.log(player);\r\n    }\r\n  }, [flagCredentials]);\r\n\r\n  //KEYBOARD LISTENERS\r\n\r\n  var flagW = false;\r\n  var flagA = false;\r\n  var flagS = false;\r\n  var flagD = false;\r\n  var flagQ = false;\r\n  var flagE = false;\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", (e) => {\r\n      if (e.code === \"KeyW\" && flagW === false) {\r\n        console.log(\"W\");\r\n        socket.emit(\"command\", \"upspeed\");\r\n        flagW = true;\r\n      } else if (e.code === \"KeyS\" && flagS === false) {\r\n        console.log(\"S\");\r\n        socket.emit(\"command\", \"downspeed\");\r\n        flagS = true;\r\n      } else if (e.code === \"KeyA\" && flagA === false) {\r\n        console.log(\"A\");\r\n        flagA = true;\r\n        socket.emit(\"command\", \"leftspeed\");\r\n      } else if (e.code === \"KeyD\" && flagD === false) {\r\n        console.log(\"D\");\r\n        flagD = true;\r\n        socket.emit(\"command\", \"rightspeed\");\r\n      } else if (e.code === \"KeyQ\" && flagQ === false) {\r\n        console.log(\"Q\");\r\n        flagQ = true;\r\n        socket.emit(\"command\", \"zoomoutspeed\");\r\n      } else if (e.code === \"KeyE\" && flagE === false) {\r\n        console.log(\"E\");\r\n        flagE = true;\r\n        socket.emit(\"command\", \"zoominspeed\");\r\n      }\r\n    });\r\n\r\n    document.addEventListener(\"keyup\", (e) => {\r\n      if (e.code === \"KeyW\") {\r\n        // console.log(\"No W\");\r\n        flagW = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyS\") {\r\n        // console.log(\"No S\");\r\n        flagS = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyA\") {\r\n        // console.log(\"No A\");\r\n        flagA = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyD\") {\r\n        //console.log(\"No D\");\r\n        flagD = false;\r\n        socket.emit(\"command\", \"stopspeed\");\r\n      } else if (e.code === \"KeyQ\") {\r\n        //console.log(\"No Q\");\r\n        flagQ = false;\r\n        socket.emit(\"command\", \"stopzoomspeed\");\r\n      } else if (e.code === \"KeyE\") {\r\n        // console.log(\"No E\");\r\n        flagE = false;\r\n        socket.emit(\"command\", \"stopzoomspeed\");\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  function editCredentials() {\r\n    setFlagCredentials(true);\r\n    socket.emit(\"deletestream\");\r\n  }\r\n\r\n  const restartStream = (e) => {\r\n    e.preventDefault();\r\n    socket.emit(\"restartstream\");\r\n    console.log(\"Restart stream emitted\");\r\n  };\r\n\r\n  //JOYSTICK CONTROLS\r\n\r\n  let flag_moving = false;\r\n  let lastDirection = \"\";\r\n  const handleMove = (e) => {\r\n    console.log(e.direction);\r\n    if (flag_moving === false) {\r\n      flag_moving = true;\r\n      switch (e.direction) {\r\n        case \"LEFT\":\r\n          socket.emit(\"command\", \"leftspeed\");\r\n          break;\r\n        case \"RIGHT\":\r\n          socket.emit(\"command\", \"rightspeed\");\r\n          break;\r\n        case \"FORWARD\":\r\n          socket.emit(\"command\", \"upspeed\");\r\n          break;\r\n        case \"BACKWARD\":\r\n          socket.emit(\"command\", \"downspeed\");\r\n          break;\r\n      }\r\n    } else if (flag_moving === true && e.direction !== lastDirection) {\r\n      socket.emit(\"command\", \"stopspeed\");\r\n      switch (e.direction) {\r\n        case \"LEFT\":\r\n          socket.emit(\"command\", \"leftspeed\");\r\n          break;\r\n        case \"RIGHT\":\r\n          socket.emit(\"command\", \"rightspeed\");\r\n          break;\r\n        case \"FORWARD\":\r\n          socket.emit(\"command\", \"upspeed\");\r\n          break;\r\n        case \"BACKWARD\":\r\n          socket.emit(\"command\", \"downspeed\");\r\n          break;\r\n      }\r\n    }\r\n    console.log(e);\r\n    lastDirection = e.direction;\r\n  };\r\n  const handleStop = (e) => {\r\n    console.log(e);\r\n    socket.emit(\"command\", \"stopspeed\");\r\n    flag_moving = false;\r\n  };\r\n  const handleStart = (e) => {\r\n    console.log(e);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"App\">\r\n        <HeaderNav />\r\n        {flagCredentials ? (<>\r\n         {/* <Credentials onClick={handleSubmit} /> */}\r\n         \r\n         </>\r\n        ) : (\r\n          <>\r\n            <DraggableVideo endpoint={ENDPOINT} socket={socket} />\r\n          \r\n            <div className=\"d-flex justify-content-around mt-2 w-100\">\r\n              <Button\r\n                style={{ width: \"155px\" }}\r\n                onClick={(e) => restartStream(e)}\r\n              >\r\n                Restart streaming\r\n              </Button>\r\n            </div>\r\n            {/* <div className=\"d-flex justify-content-around mt-2 w-100\">\r\n              <Button\r\n                style={{ width: \"155px\" }}\r\n                onClick={(e) => editCredentials(e)}\r\n              >\r\n                Edit Camera\r\n              </Button>\r\n            </div> */}\r\n            {/* <GobeJoystickController\r\n              opacity={0.75}\r\n              move={handleMove}\r\n              stop={handleStop}\r\n              start={handleStart}\r\n            /> */}\r\n            <div className=\"w-100 d-flex flex-row justify-content-center\">\r\n            <ControlButtons onClick={handleButton} />\r\n            </div>\r\n          </>\r\n        )}\r\n        \r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}